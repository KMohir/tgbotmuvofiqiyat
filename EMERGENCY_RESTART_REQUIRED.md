# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –¢–†–ï–ë–£–ï–¢–°–Ø –ü–ï–†–ï–ó–ê–ü–£–°–ö –ë–û–¢–ê!

## üîç –ü–†–û–ë–õ–ï–ú–ê

–õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –±–æ—Ç –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ **–°–¢–ê–†–û–ô –í–ï–†–°–ò–ï–ô –ö–û–î–ê**:

### –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö:
```
bad operand type for abs(): 'str'
cannot access local variable 'bot'
```

### ‚úÖ –≠—Ç–∏ –æ—à–∏–±–∫–∏ –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–´ –≤ –∫–æ–¥–µ, –Ω–æ:
- –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å
- **–¢–†–ï–ë–£–ï–¢–°–Ø –ü–ï–†–ï–ó–ê–ü–£–°–ö!**

## üöÄ –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

### 1. **–ü–ï–†–ï–ó–ê–ü–£–°–¢–ò–¢–¨ –ë–û–¢–ê:**

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Docker:**
```bash
docker-compose restart centris-bot
# –∏–ª–∏
docker restart <container_name>
```

**–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞ (Ctrl+C)
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ:
python3 app.py
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd:**
```bash
sudo systemctl restart centris-bot
```

### 2. **–ü–†–û–í–ï–†–ò–¢–¨ –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê:**

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ùå –û—à–∏–±–∫–∏ `bad operand type for abs(): 'str'` –ò–°–ß–ï–ó–ù–£–¢
- ‚ùå –û—à–∏–±–∫–∏ `cannot access local variable 'bot'` –ò–°–ß–ï–ó–ù–£–¢
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–∏–¥–µ–æ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

## üîß –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û –í –ö–û–î–ï

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö:**
```python
# –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
try:
    chat_id = int(chat_id)
except (ValueError, TypeError):
    logger.error(f"–ù–µ–≤–µ—Ä–Ω—ã–π chat_id: {chat_id}")
    return False
```

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç bot:**
```python
async def send_group_video_new(...):
    try:
        from loader import bot  # –ò–º–ø–æ—Ä—Ç –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### 3. **–£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π –≤–∏–¥–µ–æ:**
```python
def update_group_video_start_only(self, chat_id: int, project: str, video_index: int):
    # –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ start_video, –Ω–µ –º–µ–Ω—è—è season_id
```

## üìä –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê

### –õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:
```
‚úÖ Postgres is ready!
üêç Starting bot...
‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω
‚úÖ –ó–∞–¥–∞—á–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –≥—Ä—É–ø–ø
```

### –ë–ï–ó –æ—à–∏–±–æ–∫:
- ‚ùå `bad operand type for abs(): 'str'`
- ‚ùå `cannot access local variable 'bot'`

## üß™ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:
```
/scheduler_debug
```

### 2. –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–∏–¥–µ–æ:
```
/test_video_sequence -4659541321
```

### 3. –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π:
```
/test_position_update -4659541321
```

### 4. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≥—Ä—É–ø–ø—ã:
```
/diagnose_group -4659541321
```

## ‚ö° –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞:**

### ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:
- –°–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á–∏ –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ –≥—Ä—É–ø–ø—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ:
- –í–∏–¥–µ–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –ü–æ–∑–∏—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–µ–æ
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç: 1‚Üí2‚Üí3‚Üí4‚Üí5...

### ‚úÖ –ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ–∑–æ–Ω–æ–≤:
- –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ–∑–æ–Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π
- –ù–∞—á–∏–Ω–∞–µ—Ç —Å –ø–µ—Ä–≤–æ–≥–æ –≤–∏–¥–µ–æ –Ω–æ–≤–æ–≥–æ —Å–µ–∑–æ–Ω–∞
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## üö® –ö–†–ò–¢–ò–ß–ù–û!

**–ë–û–¢ –†–ê–ë–û–¢–ê–ï–¢ –°–û –°–¢–ê–†–´–ú –ö–û–î–û–ú!**

**–¢–†–ï–ë–£–ï–¢–°–Ø –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ô –ü–ï–†–ï–ó–ê–ü–£–°–ö:**
```bash
docker-compose restart centris-bot
```

**–ò–õ–ò**
```bash
sudo systemctl restart centris-bot
```

**–ë–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ù–ï –ë–£–î–£–¢ –†–ê–ë–û–¢–ê–¢–¨!**

---

**–°—Ç–∞—Ç—É—Å:** üî¥ **–¢–†–ï–ë–£–ï–¢–°–Ø –ü–ï–†–ï–ó–ê–ü–£–°–ö –ë–û–¢–ê**  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**  
**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** **1 –º–∏–Ω—É—Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞**
